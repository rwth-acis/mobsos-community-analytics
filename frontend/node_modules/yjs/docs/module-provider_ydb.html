<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Module: provider/ydb | yjs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
        
            <link type="text/css" rel="stylesheet" href="./style.css">
        
    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 162px; height: 162px">
        
            <a href="/" rel="noopener noreferrer" target="_blank">
                <img src="https://user-images.githubusercontent.com/5553757/48975307-61efb100-f06d-11e8-9177-ee895e5916e5.png" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">yjs</a></h1>
        
            <span class="version">v13.0.0-76</span>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
        <ol class="lnb-tab">
            <li id="api-tab">
                <a href="#"><h4>API</h4></a>
            </li>
            <li id="examples-tab">
                <a href="#"><h4>Examples</h4></a>
            </li>
        </ol>
    
    <div class="lnb-examples hidden"><h3>Examples</h3><ul><li><a href="tutorial-codemirror.html">CodeMirror Binding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="codemirror_sub"></div></li><li><a href="tutorial-dom.html">Dom Binding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="dom_sub"></div></li><li><a href="tutorial-prosemirror.html">ProseMirror Binding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="prosemirror_sub"></div></li><li><a href="tutorial-quill.html">Quill Binding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="quill_sub"></div></li><li><a href="tutorial-textarea.html">Textarea Binding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="textarea_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-bindings_dom.html">bindings/dom</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/dom_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-bindings_dom.html#.defaultFilter">defaultFilter</a></li><li><a href="module-bindings_dom.html#.domToType">domToType</a></li></ul><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-bindings_dom.html#~DomFilter">DomFilter</a></li><li><a href="module-bindings_dom.html#~DomFilter">DomFilter</a></li><li><a href="module-bindings_dom.html#~FilterFunction">FilterFunction</a></li></ul></div></li><li><a href="module-bindings_prosemirror.html">bindings/prosemirror</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/prosemirror_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-bindings_prosemirror.html#.absolutePositionToRelativePosition">absolutePositionToRelativePosition</a></li><li><a href="module-bindings_prosemirror.html#.createNodeIfNotExists">createNodeIfNotExists</a></li><li><a href="module-bindings_prosemirror.html#.cursorPlugin">cursorPlugin</a></li><li><a href="module-bindings_prosemirror.html#.cursorPluginKey">cursorPluginKey</a></li><li><a href="module-bindings_prosemirror.html#.prosemirrorPlugin">prosemirrorPlugin</a></li><li><a href="module-bindings_prosemirror.html#.prosemirrorPluginKey">prosemirrorPluginKey</a></li><li><a href="module-bindings_prosemirror.html#.relativePositionToAbsolutePosition">relativePositionToAbsolutePosition</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-bindings_prosemirror.html#~matchNodeName">matchNodeName</a></li></ul><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-bindings_prosemirror.html#~ProsemirrorMapping">ProsemirrorMapping</a></li></ul></div></li><li><a href="module-bindings_quill.html">bindings/quill</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/quill_sub"></div></li><li><a href="module-bindings_textarea.html">bindings/textarea</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/textarea_sub"></div></li><li><a href="module-provider_websocket.html">provider/websocket</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:provider/websocket_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-provider_websocket.html#~permissionDeniedHandler">permissionDeniedHandler</a></li><li><a href="module-provider_websocket.html#~readMessage">readMessage</a></li></ul></div></li><li><a href="module-provider_websocket_server.html">provider/websocket/server</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:provider/websocket/server_sub"></div></li><li><a href="module-provider_ydb.html">provider/ydb</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:provider/ydb_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-provider_ydb.html#._broadcastYdbCUConfConfirmed">_broadcastYdbCUConfConfirmed</a></li><li><a href="module-provider_ydb.html#._broadcastYdbCUConfCreated">_broadcastYdbCUConfCreated</a></li><li><a href="module-provider_ydb.html#._broadcastYdbRemoteOffsetConfirmed">_broadcastYdbRemoteOffsetConfirmed</a></li><li><a href="module-provider_ydb.html#._broadcastYdbRemoteOffsetReceived">_broadcastYdbRemoteOffsetReceived</a></li><li><a href="module-provider_ydb.html#._broadcastYdbSyncFromServer">_broadcastYdbSyncFromServer</a></li><li><a href="module-provider_ydb.html#._broadcastYdbSyncingRoomsToServer">_broadcastYdbSyncingRoomsToServer</a></li><li><a href="module-provider_ydb.html#.clear">clear</a></li><li><a href="module-provider_ydb.html#.confirmClient">confirmClient</a></li><li><a href="module-provider_ydb.html#.confirmSubscription">confirmSubscription</a></li><li><a href="module-provider_ydb.html#.createSub">createSub</a></li><li><a href="module-provider_ydb.html#.createTransaction">createTransaction</a></li><li><a href="module-provider_ydb.html#.createUpdate">createUpdate</a></li><li><a href="module-provider_ydb.html#.createYdbClient">createYdbClient</a></li><li><a href="module-provider_ydb.html#.get">get</a></li><li><a href="module-provider_ydb.html#.getRoomData">getRoomData</a></li><li><a href="module-provider_ydb.html#.getRoomDataWithoutCU">getRoomDataWithoutCU</a></li><li><a href="module-provider_ydb.html#.getRoomMetas">getRoomMetas</a></li><li><a href="module-provider_ydb.html#.getUnconfirmedUpdates">getUnconfirmedUpdates</a></li><li><a href="module-provider_ydb.html#.openDB">openDB</a></li><li><a href="module-provider_ydb.html#.publishAll">publishAll</a></li><li><a href="module-provider_ydb.html#.publishRoomData">publishRoomData</a></li><li><a href="module-provider_ydb.html#.readMessage">readMessage</a></li><li><a href="module-provider_ydb.html#.send">send</a></li><li><a href="module-provider_ydb.html#.subscribeRoomData">subscribeRoomData</a></li><li><a href="module-provider_ydb.html#.update">update</a></li><li><a href="module-provider_ydb.html#.writeClientUnconfirmed">writeClientUnconfirmed</a></li><li><a href="module-provider_ydb.html#.writeConfirmedByHost">writeConfirmedByHost</a></li><li><a href="module-provider_ydb.html#.writeHostUnconfirmed">writeHostUnconfirmed</a></li><li><a href="module-provider_ydb.html#.writeHostUnconfirmedByClient">writeHostUnconfirmedByClient</a></li><li><a href="module-provider_ydb.html#~datasubs">datasubs</a></li><li><a href="module-provider_ydb.html#~ydbinstances">ydbinstances</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-provider_ydb.html#~checkTestClients">checkTestClients</a></li><li><a href="module-provider_ydb.html#~decodeHUKey">decodeHUKey</a></li><li><a href="module-provider_ydb.html#~encodeHUKey">encodeHUKey</a></li><li><a href="module-provider_ydb.html#~encodeMetaValue">encodeMetaValue</a></li><li><a href="module-provider_ydb.html#~getStoreCo">getStoreCo</a></li><li><a href="module-provider_ydb.html#~getStoreCU">getStoreCU</a></li><li><a href="module-provider_ydb.html#~getStoreHU">getStoreHU</a></li><li><a href="module-provider_ydb.html#~getStoreUS">getStoreUS</a></li><li><a href="module-provider_ydb.html#~getTestClient">getTestClient</a></li><li><a href="module-provider_ydb.html#~initWS">initWS</a></li><li><a href="module-provider_ydb.html#~update">update</a></li></ul><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-provider_ydb.html#~HUTableKey">HUTableKey</a></li><li><a href="module-provider_ydb.html#~RoomAndOffset">RoomAndOffset</a></li><li><a href="module-provider_ydb.html#~RoomMeta">RoomMeta</a></li><li><a href="module-provider_ydb.html#~RoomState">RoomState</a></li><li><a href="module-provider_ydb.html#~Sub">Sub</a></li><li><a href="module-provider_ydb.html#~SubDef">SubDef</a></li><li><a href="module-provider_ydb.html#~SyncState">SyncState</a></li></ul></div></li><li><a href="module-structs.html">structs</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:structs_sub"></div></li><li><a href="module-types.html">types</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-types.html#~CSS_Selector">CSS_Selector</a></li><li><a href="module-types.html#~CSS_Selector">CSS_Selector</a></li><li><a href="module-types.html#~Delta">Delta</a></li><li><a href="module-types.html#~domFilter">domFilter</a></li><li><a href="module-types.html#~TextAttributes">TextAttributes</a></li></ul></div></li><li><a href="module-utils.html">utils</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:utils_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="module-bindings_dom.DomBinding.html">DomBinding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/dom.DomBinding_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-bindings_dom.DomBinding.html#domToType">domToType</a></li><li><a href="module-bindings_dom.DomBinding.html#filter">filter</a></li><li><a href="module-bindings_dom.DomBinding.html#target">target</a></li><li><a href="module-bindings_dom.DomBinding.html#type">type</a></li><li><a href="module-bindings_dom.DomBinding.html#typeToDom">typeToDom</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-bindings_dom.DomBinding.html#destroy">destroy</a></li><li><a href="module-bindings_dom.DomBinding.html#setFilter">setFilter</a></li></ul></div></li><li><a href="module-bindings_prosemirror.ProsemirrorBinding.html">ProsemirrorBinding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/prosemirror.ProsemirrorBinding_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-bindings_prosemirror.ProsemirrorBinding.html#_relSelection">_relSelection</a></li><li><a href="module-bindings_prosemirror.ProsemirrorBinding.html#mapping">mapping</a></li></ul></div></li><li><a href="module-bindings_quill.QuillBinding.html">QuillBinding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/quill.QuillBinding_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-bindings_quill.QuillBinding.html#target">target</a></li><li><a href="module-bindings_quill.QuillBinding.html#type">type</a></li></ul></div></li><li><a href="module-bindings_textarea.CodeMirrorBinding.html">CodeMirrorBinding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/textarea.CodeMirrorBinding_sub"></div></li><li><a href="module-bindings_textarea.TextareaBinding.html">TextareaBinding</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:bindings/textarea.TextareaBinding_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-bindings_textarea.TextareaBinding.html#target">target</a></li><li><a href="module-bindings_textarea.TextareaBinding.html#type">type</a></li></ul></div></li><li><a href="module-provider_websocket.WebsocketProvider.html">WebsocketProvider</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:provider/websocket.WebsocketProvider_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-provider_websocket.WebsocketProvider.html#docs">docs</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-provider_websocket.WebsocketProvider.html#get">get</a></li></ul></div></li><li><a href="module-provider_ydb.YdbClient.html">YdbClient</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:provider/ydb.YdbClient_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-provider_ydb.YdbClient.html#clientUnconfirmedStates">clientUnconfirmedStates</a></li><li><a href="module-provider_ydb.YdbClient.html#roomStates">roomStates</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-provider_ydb.YdbClient.html#getY">getY</a></li></ul></div></li><li><a href="module-structs.Type.html">Type</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:structs.Type_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-structs.Type.html#_first">_first</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-structs.Type.html#getPathTo">getPathTo</a></li><li><a href="module-structs.Type.html#observe">observe</a></li><li><a href="module-structs.Type.html#observeDeep">observeDeep</a></li><li><a href="module-structs.Type.html#toJSON">toJSON</a></li><li><a href="module-structs.Type.html#unobserve">unobserve</a></li><li><a href="module-structs.Type.html#unobserveDeep">unobserveDeep</a></li></ul></div></li><li><a href="module-types.YArray.html">YArray</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YArray_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.YArray.html#delete">delete</a></li><li><a href="module-types.YArray.html#forEach">forEach</a></li><li><a href="module-types.YArray.html#get">get</a></li><li><a href="module-types.YArray.html#insert">insert</a></li><li><a href="module-types.YArray.html#map">map</a></li><li><a href="module-types.YArray.html#push">push</a></li><li><a href="module-types.YArray.html#toArray">toArray</a></li><li><a href="module-types.YArray.html#toJSON">toJSON</a></li></ul></div></li><li><a href="module-types.YArrayEvent.html">YArrayEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YArrayEvent_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-types.YArrayEvent.html#addedElements">addedElements</a></li><li><a href="module-types.YArrayEvent.html#removedElements">removedElements</a></li></ul></div></li><li><a href="module-types.YMap.html">YMap</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YMap_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.YMap.html#delete">delete</a></li><li><a href="module-types.YMap.html#get">get</a></li><li><a href="module-types.YMap.html#has">has</a></li><li><a href="module-types.YMap.html#keys">keys</a></li><li><a href="module-types.YMap.html#set">set</a></li><li><a href="module-types.YMap.html#toJSON">toJSON</a></li></ul></div></li><li><a href="module-types.YMapEvent.html">YMapEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YMapEvent_sub"></div></li><li><a href="module-types.YText.html">YText</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YText_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.YText.html#applyDelta">applyDelta</a></li><li><a href="module-types.YText.html#delete">delete</a></li><li><a href="module-types.YText.html#format">format</a></li><li><a href="module-types.YText.html#insert">insert</a></li><li><a href="module-types.YText.html#insertEmbed">insertEmbed</a></li><li><a href="module-types.YText.html#toDelta">toDelta</a></li><li><a href="module-types.YText.html#toString">toString</a></li></ul></div></li><li><a href="module-types.YXmlElement.html">YXmlElement</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YXmlElement_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.YXmlElement.html#getAttribute">getAttribute</a></li><li><a href="module-types.YXmlElement.html#getAttributes">getAttributes</a></li><li><a href="module-types.YXmlElement.html#removeAttribute">removeAttribute</a></li><li><a href="module-types.YXmlElement.html#setAttribute">setAttribute</a></li><li><a href="module-types.YXmlElement.html#toDom">toDom</a></li><li><a href="module-types.YXmlElement.html#toDomString">toDomString</a></li></ul></div></li><li><a href="module-types.YXmlEvent.html">YXmlEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YXmlEvent_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-types.YXmlEvent.html#_transaction">_transaction</a></li><li><a href="module-types.YXmlEvent.html#attributesChanged">attributesChanged</a></li><li><a href="module-types.YXmlEvent.html#childListChanged">childListChanged</a></li><li><a href="module-types.YXmlEvent.html#remote">remote</a></li></ul></div></li><li><a href="module-types.YXmlFragment.html">YXmlFragment</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YXmlFragment_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.YXmlFragment.html#createTreeWalker">createTreeWalker</a></li><li><a href="module-types.YXmlFragment.html#querySelector">querySelector</a></li><li><a href="module-types.YXmlFragment.html#querySelectorAll">querySelectorAll</a></li><li><a href="module-types.YXmlFragment.html#toDom">toDom</a></li><li><a href="module-types.YXmlFragment.html#toDomString">toDomString</a></li></ul></div></li><li><a href="module-types.YXmlHook.html">YXmlHook</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YXmlHook_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.YXmlHook.html#toDom">toDom</a></li></ul></div></li><li><a href="module-types.YXmlText.html">YXmlText</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YXmlText_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.YXmlText.html#toDom">toDom</a></li></ul></div></li><li><a href="module-types.YXmlTreeWalker.html">YXmlTreeWalker</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types.YXmlTreeWalker_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.YXmlTreeWalker.html#next">next</a></li></ul></div></li><li><a href="module-utils.YEvent.html">YEvent</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:utils.YEvent_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-utils.YEvent.html#currentTarget">currentTarget</a></li><li><a href="module-utils.YEvent.html#path">path</a></li><li><a href="module-utils.YEvent.html#target">target</a></li></ul></div></li><li><a href="UndoManager.html">UndoManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="UndoManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="UndoManager.html#flushChanges">flushChanges</a></li><li><a href="UndoManager.html#redo">redo</a></li><li><a href="UndoManager.html#undo">undo</a></li></ul></div></li><li><a href="Y.html">Y</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Y_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Y.html#define">define</a></li><li><a href="Y.html#destroy">destroy</a></li><li><a href="Y.html#exportModel">exportModel</a></li><li><a href="Y.html#get">get</a></li><li><a href="Y.html#importModel">importModel</a></li><li><a href="Y.html#transact">transact</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3><a href="global.html">Global</a></h3></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    




<section>

<header>
    
        <h2>provider/ydb</h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

            
        
        </div>
    

    

    

    
            <h3 class="subsection-title">Classes</h3>
            

<dl>
    
        <dt>
            <h4 class="name">
                <a href="module-provider_ydb.YdbClient.html">YdbClient</a>
                <div class="container-source members">
                    <code><a href="module-provider_ydb.YdbClient.html">module:provider/ydb.YdbClient</a></code>
                </div>
            </h4>
        </dt>
        
    
</dl>

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line214">line 214</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when user confid was confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfCreated">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfCreated<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line201">line 201</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when update was created by this user and confid was created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line240">line 240</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetReceived">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetReceived<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line226">line 226</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when remote update is received (thus host has increased, but not confirmed, the offset)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncFromServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncFromServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line269">line 269</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when sync confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncingRoomsToServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncingRoomsToServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line255">line 255</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when a subscription is created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".clear">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>clear<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line163">line 163</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Remove a db namespace. Call this to remove any persisted data. Make sure to close active sessions.
TODO: destroy active ydbClient sessions / throw if a session is still active</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line166">line 166</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and persisted an update. The update can be safely removed from CU.
It is necessary to call this function in case that the client disconnected before the host could send <code>writeHostUnconfirmedByClient</code>.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmSubscription">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmSubscription<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line372">line 372</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set the initial room data. Overwrites initial data if there is any!</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createSub">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createSub<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line114">line 114</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createTransaction">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createTransaction<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line126">line 126</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Create a new IDBTransaction accessing all object stores. Normally we should care that we can access object stores in parallel.
But this is not possible in ydb-client since at least two object stores are requested in every IDB change.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createUpdate">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createUpdate<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line93">line 93</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createYdbClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createYdbClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_index.js.html">provider/ydb/index.js</a></code>,
        <code><a href="provider_ydb_index.js.html#line11">line 11</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".get">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>get<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line150">line 150</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Factory function. Get a ydb instance that connects to url, and uses dbNamespace as indexeddb namespace.
Create if it does not exist yet.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line296">line 296</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, including unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomDataWithoutCU">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomDataWithoutCU<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line282">line 282</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, excluding unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomMetas">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomMetas<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line245">line 245</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all meta information for all rooms.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getUnconfirmedUpdates">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getUnconfirmedUpdates<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line149">line 149</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all updates that are not yet confirmed by host.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".openDB">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>openDB<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line111">line 111</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishAll">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishAll<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line190">line 190</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Publish to all, including self</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line298">line 298</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".readMessage">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>readMessage<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line23">line 23</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".send">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>send<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line169">line 169</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".subscribeRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>subscribeRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line285">line 285</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".update">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>update<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line176">line 176</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeClientUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeClientUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line137">line 137</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Write an update to the db after the client created it. This update is not yet received by the host.
This function returns a client confirmation number. The confirmation number must be send to the host so it can identify the update,
and we can move the update to HU when it is confirmed (@see writeHostUnconfirmedByClient)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeConfirmedByHost">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeConfirmedByHost<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line208">line 208</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it persisted updates up until (including) offset. updates may be moved from HU to Co.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line199">line 199</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host broadcasts an update created by another client. It assures that the update will eventually be persisted with
<code>offset</code>. Calling this function does not imply that the update was persisted by the host. In case of mismatching room session ids
the updates in HU will be sent to the server.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmedByClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmedByClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line179">line 179</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and broadcasted an update sent from this client.
Calling this method does not confirm that the update has been persisted by the server.</p>
<p>Other clients will receive an update with <code>writeHostUnconfirmed</code>. Since this client created the update, it only receives a confirmation. So
we can simply move the update from CU to HU.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~datasubs">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>datasubs<span class="type-signature"> :Map.&lt;string, Set.&lt;function()>></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line17">line 17</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Map.&lt;string, Set.&lt;function()>></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~ydbinstances">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>ydbinstances<span class="type-signature"> :Set.&lt;any></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line22">line 22</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set of Ydb instances</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Set.&lt;any></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
                

<dt>
    
        <h4 class="name" id="~checkTestClients">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>checkTestClients<span class="signature">(&hellip;testClients)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line62">line 62</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Check if tsclient has all data in dataset</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testClients</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~decodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>decodeHUKey<span class="signature">(key)</span><span class="type-signature"> &rarr; {RoomAndOffset}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line92">line 92</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">HUTableKey</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">RoomAndOffset</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeHUKey<span class="signature">(room, offset)</span><span class="type-signature"> &rarr; {HUTableKey}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line73">line 73</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">HUTableKey</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeMetaValue">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeMetaValue<span class="signature">(rsid, offset)</span><span class="type-signature"> &rarr; {ArrayBuffer}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line322">line 322</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">ArrayBuffer</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCo">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCo<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line59">line 59</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'confirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line47">line 47</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'client-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreHU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreHU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line53">line 53</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'host-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreUS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreUS<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line66">line 66</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get <code>unconfirmed-subscriptions</code> store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getTestClient">
            
                <span class="type-signature"><span class="icon green">async</span>, <span class="icon green">inner</span> </span>getTestClient<span class="signature">(name)</span><span class="type-signature"> &rarr; {Promise.&lt;YdbTestClient>}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line31">line 31</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">Promise.&lt;YdbTestClient></span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~initWS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>initWS<span class="signature">(ydb, ws)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
                <code><a href="provider_ydb_YdbClient.js.html#line101">line 101</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Initialize WebSocket connection. Try to reconnect on error/disconnect.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ydb</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ws</code></td>
            

            <td class="type">
            
                
<span class="param-type">WebSocket</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~update">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>update<span class="signature">(client)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line54">line 54</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create an update. We use an increasing message counter so each update is unique.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            </dl>
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        <dl>
                

<dt>
<h4 class="name" id="~HUTableKey">
    HUTableKey
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line75">line 75</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Array of length 2: [string, number]</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">any</span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomAndOffset">
    RoomAndOffset
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line81">line 81</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomMeta">
    RoomMeta
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line231">line 231</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomState">
    RoomState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line20">line 20</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id, -1 if unknown (created locally)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>By server, -1 if unknown</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cOffset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>current offset by client</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~Sub">
    Sub
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line358">line 358</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>room name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SubDef">
    SubDef
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line102">line 102</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SyncState">
    SyncState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line28">line 28</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>upsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if all local updates have been sent to the server and the server confirmed that it received the update</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the current session subscribed to the room, the server confirmed the subscription, and the initial data was received</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>persisted</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the server confirmed that it persisted all published data</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            </dl>
    

    
</article>

</section>







<section>

<header>
    
        <h2>provider/ydb</h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

            
        
        </div>
    

    

    

    
            <h3 class="subsection-title">Classes</h3>
            

<dl>
    
        <dt>
            <h4 class="name">
                <a href="module-provider_ydb.YdbClient.html">YdbClient</a>
                <div class="container-source members">
                    <code><a href="module-provider_ydb.YdbClient.html">module:provider/ydb.YdbClient</a></code>
                </div>
            </h4>
        </dt>
        
    
</dl>

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line214">line 214</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when user confid was confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfCreated">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfCreated<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line201">line 201</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when update was created by this user and confid was created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line240">line 240</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetReceived">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetReceived<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line226">line 226</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when remote update is received (thus host has increased, but not confirmed, the offset)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncFromServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncFromServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line269">line 269</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when sync confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncingRoomsToServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncingRoomsToServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line255">line 255</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when a subscription is created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".clear">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>clear<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line163">line 163</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Remove a db namespace. Call this to remove any persisted data. Make sure to close active sessions.
TODO: destroy active ydbClient sessions / throw if a session is still active</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line166">line 166</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and persisted an update. The update can be safely removed from CU.
It is necessary to call this function in case that the client disconnected before the host could send <code>writeHostUnconfirmedByClient</code>.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmSubscription">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmSubscription<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line372">line 372</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set the initial room data. Overwrites initial data if there is any!</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createSub">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createSub<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line114">line 114</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createTransaction">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createTransaction<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line126">line 126</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Create a new IDBTransaction accessing all object stores. Normally we should care that we can access object stores in parallel.
But this is not possible in ydb-client since at least two object stores are requested in every IDB change.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createUpdate">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createUpdate<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line93">line 93</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createYdbClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createYdbClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_index.js.html">provider/ydb/index.js</a></code>,
        <code><a href="provider_ydb_index.js.html#line11">line 11</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".get">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>get<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line150">line 150</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Factory function. Get a ydb instance that connects to url, and uses dbNamespace as indexeddb namespace.
Create if it does not exist yet.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line296">line 296</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, including unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomDataWithoutCU">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomDataWithoutCU<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line282">line 282</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, excluding unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomMetas">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomMetas<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line245">line 245</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all meta information for all rooms.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getUnconfirmedUpdates">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getUnconfirmedUpdates<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line149">line 149</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all updates that are not yet confirmed by host.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".openDB">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>openDB<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line111">line 111</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishAll">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishAll<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line190">line 190</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Publish to all, including self</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line298">line 298</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".readMessage">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>readMessage<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line23">line 23</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".send">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>send<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line169">line 169</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".subscribeRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>subscribeRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line285">line 285</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".update">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>update<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line176">line 176</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeClientUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeClientUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line137">line 137</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Write an update to the db after the client created it. This update is not yet received by the host.
This function returns a client confirmation number. The confirmation number must be send to the host so it can identify the update,
and we can move the update to HU when it is confirmed (@see writeHostUnconfirmedByClient)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeConfirmedByHost">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeConfirmedByHost<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line208">line 208</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it persisted updates up until (including) offset. updates may be moved from HU to Co.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line199">line 199</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host broadcasts an update created by another client. It assures that the update will eventually be persisted with
<code>offset</code>. Calling this function does not imply that the update was persisted by the host. In case of mismatching room session ids
the updates in HU will be sent to the server.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmedByClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmedByClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line179">line 179</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and broadcasted an update sent from this client.
Calling this method does not confirm that the update has been persisted by the server.</p>
<p>Other clients will receive an update with <code>writeHostUnconfirmed</code>. Since this client created the update, it only receives a confirmation. So
we can simply move the update from CU to HU.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~datasubs">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>datasubs<span class="type-signature"> :Map.&lt;string, Set.&lt;function()>></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line17">line 17</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Map.&lt;string, Set.&lt;function()>></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~ydbinstances">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>ydbinstances<span class="type-signature"> :Set.&lt;any></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line22">line 22</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set of Ydb instances</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Set.&lt;any></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
                

<dt>
    
        <h4 class="name" id="~checkTestClients">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>checkTestClients<span class="signature">(&hellip;testClients)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line62">line 62</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Check if tsclient has all data in dataset</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testClients</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~decodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>decodeHUKey<span class="signature">(key)</span><span class="type-signature"> &rarr; {RoomAndOffset}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line92">line 92</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">HUTableKey</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">RoomAndOffset</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeHUKey<span class="signature">(room, offset)</span><span class="type-signature"> &rarr; {HUTableKey}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line73">line 73</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">HUTableKey</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeMetaValue">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeMetaValue<span class="signature">(rsid, offset)</span><span class="type-signature"> &rarr; {ArrayBuffer}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line322">line 322</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">ArrayBuffer</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCo">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCo<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line59">line 59</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'confirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line47">line 47</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'client-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreHU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreHU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line53">line 53</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'host-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreUS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreUS<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line66">line 66</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get <code>unconfirmed-subscriptions</code> store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getTestClient">
            
                <span class="type-signature"><span class="icon green">async</span>, <span class="icon green">inner</span> </span>getTestClient<span class="signature">(name)</span><span class="type-signature"> &rarr; {Promise.&lt;YdbTestClient>}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line31">line 31</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">Promise.&lt;YdbTestClient></span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~initWS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>initWS<span class="signature">(ydb, ws)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
                <code><a href="provider_ydb_YdbClient.js.html#line101">line 101</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Initialize WebSocket connection. Try to reconnect on error/disconnect.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ydb</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ws</code></td>
            

            <td class="type">
            
                
<span class="param-type">WebSocket</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~update">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>update<span class="signature">(client)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line54">line 54</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create an update. We use an increasing message counter so each update is unique.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            </dl>
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        <dl>
                

<dt>
<h4 class="name" id="~HUTableKey">
    HUTableKey
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line75">line 75</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Array of length 2: [string, number]</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">any</span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomAndOffset">
    RoomAndOffset
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line81">line 81</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomMeta">
    RoomMeta
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line231">line 231</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomState">
    RoomState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line20">line 20</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id, -1 if unknown (created locally)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>By server, -1 if unknown</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cOffset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>current offset by client</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~Sub">
    Sub
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line358">line 358</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>room name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SubDef">
    SubDef
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line102">line 102</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SyncState">
    SyncState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line28">line 28</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>upsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if all local updates have been sent to the server and the server confirmed that it received the update</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the current session subscribed to the room, the server confirmed the subscription, and the initial data was received</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>persisted</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the server confirmed that it persisted all published data</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            </dl>
    

    
</article>

</section>







<section>

<header>
    
        <h2>provider/ydb</h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

            
        
        </div>
    

    

    

    
            <h3 class="subsection-title">Classes</h3>
            

<dl>
    
        <dt>
            <h4 class="name">
                <a href="module-provider_ydb.YdbClient.html">YdbClient</a>
                <div class="container-source members">
                    <code><a href="module-provider_ydb.YdbClient.html">module:provider/ydb.YdbClient</a></code>
                </div>
            </h4>
        </dt>
        
    
</dl>

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line214">line 214</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when user confid was confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfCreated">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfCreated<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line201">line 201</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when update was created by this user and confid was created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line240">line 240</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetReceived">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetReceived<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line226">line 226</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when remote update is received (thus host has increased, but not confirmed, the offset)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncFromServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncFromServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line269">line 269</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when sync confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncingRoomsToServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncingRoomsToServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line255">line 255</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when a subscription is created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".clear">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>clear<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line163">line 163</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Remove a db namespace. Call this to remove any persisted data. Make sure to close active sessions.
TODO: destroy active ydbClient sessions / throw if a session is still active</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line166">line 166</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and persisted an update. The update can be safely removed from CU.
It is necessary to call this function in case that the client disconnected before the host could send <code>writeHostUnconfirmedByClient</code>.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmSubscription">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmSubscription<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line372">line 372</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set the initial room data. Overwrites initial data if there is any!</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createSub">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createSub<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line114">line 114</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createTransaction">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createTransaction<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line126">line 126</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Create a new IDBTransaction accessing all object stores. Normally we should care that we can access object stores in parallel.
But this is not possible in ydb-client since at least two object stores are requested in every IDB change.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createUpdate">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createUpdate<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line93">line 93</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createYdbClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createYdbClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_index.js.html">provider/ydb/index.js</a></code>,
        <code><a href="provider_ydb_index.js.html#line11">line 11</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".get">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>get<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line150">line 150</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Factory function. Get a ydb instance that connects to url, and uses dbNamespace as indexeddb namespace.
Create if it does not exist yet.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line296">line 296</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, including unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomDataWithoutCU">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomDataWithoutCU<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line282">line 282</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, excluding unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomMetas">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomMetas<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line245">line 245</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all meta information for all rooms.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getUnconfirmedUpdates">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getUnconfirmedUpdates<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line149">line 149</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all updates that are not yet confirmed by host.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".openDB">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>openDB<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line111">line 111</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishAll">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishAll<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line190">line 190</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Publish to all, including self</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line298">line 298</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".readMessage">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>readMessage<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line23">line 23</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".send">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>send<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line169">line 169</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".subscribeRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>subscribeRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line285">line 285</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".update">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>update<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line176">line 176</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeClientUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeClientUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line137">line 137</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Write an update to the db after the client created it. This update is not yet received by the host.
This function returns a client confirmation number. The confirmation number must be send to the host so it can identify the update,
and we can move the update to HU when it is confirmed (@see writeHostUnconfirmedByClient)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeConfirmedByHost">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeConfirmedByHost<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line208">line 208</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it persisted updates up until (including) offset. updates may be moved from HU to Co.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line199">line 199</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host broadcasts an update created by another client. It assures that the update will eventually be persisted with
<code>offset</code>. Calling this function does not imply that the update was persisted by the host. In case of mismatching room session ids
the updates in HU will be sent to the server.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmedByClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmedByClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line179">line 179</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and broadcasted an update sent from this client.
Calling this method does not confirm that the update has been persisted by the server.</p>
<p>Other clients will receive an update with <code>writeHostUnconfirmed</code>. Since this client created the update, it only receives a confirmation. So
we can simply move the update from CU to HU.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~datasubs">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>datasubs<span class="type-signature"> :Map.&lt;string, Set.&lt;function()>></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line17">line 17</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Map.&lt;string, Set.&lt;function()>></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~ydbinstances">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>ydbinstances<span class="type-signature"> :Set.&lt;any></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line22">line 22</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set of Ydb instances</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Set.&lt;any></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
                

<dt>
    
        <h4 class="name" id="~checkTestClients">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>checkTestClients<span class="signature">(&hellip;testClients)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line62">line 62</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Check if tsclient has all data in dataset</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testClients</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~decodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>decodeHUKey<span class="signature">(key)</span><span class="type-signature"> &rarr; {RoomAndOffset}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line92">line 92</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">HUTableKey</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">RoomAndOffset</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeHUKey<span class="signature">(room, offset)</span><span class="type-signature"> &rarr; {HUTableKey}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line73">line 73</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">HUTableKey</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeMetaValue">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeMetaValue<span class="signature">(rsid, offset)</span><span class="type-signature"> &rarr; {ArrayBuffer}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line322">line 322</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">ArrayBuffer</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCo">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCo<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line59">line 59</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'confirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line47">line 47</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'client-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreHU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreHU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line53">line 53</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'host-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreUS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreUS<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line66">line 66</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get <code>unconfirmed-subscriptions</code> store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getTestClient">
            
                <span class="type-signature"><span class="icon green">async</span>, <span class="icon green">inner</span> </span>getTestClient<span class="signature">(name)</span><span class="type-signature"> &rarr; {Promise.&lt;YdbTestClient>}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line31">line 31</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">Promise.&lt;YdbTestClient></span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~initWS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>initWS<span class="signature">(ydb, ws)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
                <code><a href="provider_ydb_YdbClient.js.html#line101">line 101</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Initialize WebSocket connection. Try to reconnect on error/disconnect.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ydb</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ws</code></td>
            

            <td class="type">
            
                
<span class="param-type">WebSocket</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~update">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>update<span class="signature">(client)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line54">line 54</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create an update. We use an increasing message counter so each update is unique.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            </dl>
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        <dl>
                

<dt>
<h4 class="name" id="~HUTableKey">
    HUTableKey
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line75">line 75</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Array of length 2: [string, number]</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">any</span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomAndOffset">
    RoomAndOffset
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line81">line 81</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomMeta">
    RoomMeta
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line231">line 231</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomState">
    RoomState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line20">line 20</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id, -1 if unknown (created locally)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>By server, -1 if unknown</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cOffset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>current offset by client</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~Sub">
    Sub
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line358">line 358</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>room name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SubDef">
    SubDef
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line102">line 102</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SyncState">
    SyncState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line28">line 28</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>upsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if all local updates have been sent to the server and the server confirmed that it received the update</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the current session subscribed to the room, the server confirmed the subscription, and the initial data was received</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>persisted</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the server confirmed that it persisted all published data</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            </dl>
    

    
</article>

</section>







<section>

<header>
    
        <h2>provider/ydb</h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

            
        
        </div>
    

    

    

    
            <h3 class="subsection-title">Classes</h3>
            

<dl>
    
        <dt>
            <h4 class="name">
                <a href="module-provider_ydb.YdbClient.html">YdbClient</a>
                <div class="container-source members">
                    <code><a href="module-provider_ydb.YdbClient.html">module:provider/ydb.YdbClient</a></code>
                </div>
            </h4>
        </dt>
        
    
</dl>

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line214">line 214</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when user confid was confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfCreated">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfCreated<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line201">line 201</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when update was created by this user and confid was created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line240">line 240</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetReceived">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetReceived<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line226">line 226</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when remote update is received (thus host has increased, but not confirmed, the offset)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncFromServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncFromServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line269">line 269</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when sync confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncingRoomsToServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncingRoomsToServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line255">line 255</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when a subscription is created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".clear">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>clear<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line163">line 163</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Remove a db namespace. Call this to remove any persisted data. Make sure to close active sessions.
TODO: destroy active ydbClient sessions / throw if a session is still active</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line166">line 166</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and persisted an update. The update can be safely removed from CU.
It is necessary to call this function in case that the client disconnected before the host could send <code>writeHostUnconfirmedByClient</code>.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmSubscription">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmSubscription<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line372">line 372</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set the initial room data. Overwrites initial data if there is any!</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createSub">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createSub<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line114">line 114</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createTransaction">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createTransaction<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line126">line 126</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Create a new IDBTransaction accessing all object stores. Normally we should care that we can access object stores in parallel.
But this is not possible in ydb-client since at least two object stores are requested in every IDB change.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createUpdate">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createUpdate<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line93">line 93</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createYdbClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createYdbClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_index.js.html">provider/ydb/index.js</a></code>,
        <code><a href="provider_ydb_index.js.html#line11">line 11</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".get">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>get<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line150">line 150</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Factory function. Get a ydb instance that connects to url, and uses dbNamespace as indexeddb namespace.
Create if it does not exist yet.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line296">line 296</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, including unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomDataWithoutCU">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomDataWithoutCU<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line282">line 282</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, excluding unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomMetas">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomMetas<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line245">line 245</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all meta information for all rooms.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getUnconfirmedUpdates">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getUnconfirmedUpdates<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line149">line 149</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all updates that are not yet confirmed by host.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".openDB">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>openDB<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line111">line 111</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishAll">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishAll<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line190">line 190</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Publish to all, including self</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line298">line 298</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".readMessage">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>readMessage<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line23">line 23</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".send">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>send<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line169">line 169</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".subscribeRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>subscribeRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line285">line 285</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".update">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>update<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line176">line 176</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeClientUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeClientUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line137">line 137</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Write an update to the db after the client created it. This update is not yet received by the host.
This function returns a client confirmation number. The confirmation number must be send to the host so it can identify the update,
and we can move the update to HU when it is confirmed (@see writeHostUnconfirmedByClient)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeConfirmedByHost">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeConfirmedByHost<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line208">line 208</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it persisted updates up until (including) offset. updates may be moved from HU to Co.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line199">line 199</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host broadcasts an update created by another client. It assures that the update will eventually be persisted with
<code>offset</code>. Calling this function does not imply that the update was persisted by the host. In case of mismatching room session ids
the updates in HU will be sent to the server.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmedByClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmedByClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line179">line 179</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and broadcasted an update sent from this client.
Calling this method does not confirm that the update has been persisted by the server.</p>
<p>Other clients will receive an update with <code>writeHostUnconfirmed</code>. Since this client created the update, it only receives a confirmation. So
we can simply move the update from CU to HU.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~datasubs">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>datasubs<span class="type-signature"> :Map.&lt;string, Set.&lt;function()>></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line17">line 17</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Map.&lt;string, Set.&lt;function()>></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~ydbinstances">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>ydbinstances<span class="type-signature"> :Set.&lt;any></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line22">line 22</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set of Ydb instances</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Set.&lt;any></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
                

<dt>
    
        <h4 class="name" id="~checkTestClients">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>checkTestClients<span class="signature">(&hellip;testClients)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line62">line 62</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Check if tsclient has all data in dataset</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testClients</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~decodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>decodeHUKey<span class="signature">(key)</span><span class="type-signature"> &rarr; {RoomAndOffset}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line92">line 92</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">HUTableKey</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">RoomAndOffset</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeHUKey<span class="signature">(room, offset)</span><span class="type-signature"> &rarr; {HUTableKey}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line73">line 73</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">HUTableKey</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeMetaValue">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeMetaValue<span class="signature">(rsid, offset)</span><span class="type-signature"> &rarr; {ArrayBuffer}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line322">line 322</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">ArrayBuffer</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCo">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCo<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line59">line 59</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'confirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line47">line 47</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'client-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreHU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreHU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line53">line 53</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'host-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreUS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreUS<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line66">line 66</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get <code>unconfirmed-subscriptions</code> store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getTestClient">
            
                <span class="type-signature"><span class="icon green">async</span>, <span class="icon green">inner</span> </span>getTestClient<span class="signature">(name)</span><span class="type-signature"> &rarr; {Promise.&lt;YdbTestClient>}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line31">line 31</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">Promise.&lt;YdbTestClient></span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~initWS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>initWS<span class="signature">(ydb, ws)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
                <code><a href="provider_ydb_YdbClient.js.html#line101">line 101</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Initialize WebSocket connection. Try to reconnect on error/disconnect.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ydb</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ws</code></td>
            

            <td class="type">
            
                
<span class="param-type">WebSocket</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~update">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>update<span class="signature">(client)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line54">line 54</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create an update. We use an increasing message counter so each update is unique.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            </dl>
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        <dl>
                

<dt>
<h4 class="name" id="~HUTableKey">
    HUTableKey
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line75">line 75</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Array of length 2: [string, number]</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">any</span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomAndOffset">
    RoomAndOffset
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line81">line 81</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomMeta">
    RoomMeta
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line231">line 231</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomState">
    RoomState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line20">line 20</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id, -1 if unknown (created locally)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>By server, -1 if unknown</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cOffset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>current offset by client</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~Sub">
    Sub
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line358">line 358</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>room name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SubDef">
    SubDef
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line102">line 102</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SyncState">
    SyncState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line28">line 28</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>upsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if all local updates have been sent to the server and the server confirmed that it received the update</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the current session subscribed to the room, the server confirmed the subscription, and the initial data was received</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>persisted</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the server confirmed that it persisted all published data</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            </dl>
    

    
</article>

</section>







<section>

<header>
    
        <h2>provider/ydb</h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

            
        
        </div>
    

    

    

    
            <h3 class="subsection-title">Classes</h3>
            

<dl>
    
        <dt>
            <h4 class="name">
                <a href="module-provider_ydb.YdbClient.html">YdbClient</a>
                <div class="container-source members">
                    <code><a href="module-provider_ydb.YdbClient.html">module:provider/ydb.YdbClient</a></code>
                </div>
            </h4>
        </dt>
        
    
</dl>

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line214">line 214</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when user confid was confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfCreated">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfCreated<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line201">line 201</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when update was created by this user and confid was created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line240">line 240</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetReceived">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetReceived<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line226">line 226</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when remote update is received (thus host has increased, but not confirmed, the offset)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncFromServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncFromServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line269">line 269</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when sync confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncingRoomsToServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncingRoomsToServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line255">line 255</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when a subscription is created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".clear">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>clear<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line163">line 163</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Remove a db namespace. Call this to remove any persisted data. Make sure to close active sessions.
TODO: destroy active ydbClient sessions / throw if a session is still active</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line166">line 166</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and persisted an update. The update can be safely removed from CU.
It is necessary to call this function in case that the client disconnected before the host could send <code>writeHostUnconfirmedByClient</code>.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmSubscription">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmSubscription<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line372">line 372</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set the initial room data. Overwrites initial data if there is any!</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createSub">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createSub<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line114">line 114</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createTransaction">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createTransaction<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line126">line 126</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Create a new IDBTransaction accessing all object stores. Normally we should care that we can access object stores in parallel.
But this is not possible in ydb-client since at least two object stores are requested in every IDB change.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createUpdate">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createUpdate<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line93">line 93</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createYdbClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createYdbClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_index.js.html">provider/ydb/index.js</a></code>,
        <code><a href="provider_ydb_index.js.html#line11">line 11</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".get">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>get<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line150">line 150</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Factory function. Get a ydb instance that connects to url, and uses dbNamespace as indexeddb namespace.
Create if it does not exist yet.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line296">line 296</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, including unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomDataWithoutCU">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomDataWithoutCU<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line282">line 282</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, excluding unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomMetas">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomMetas<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line245">line 245</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all meta information for all rooms.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getUnconfirmedUpdates">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getUnconfirmedUpdates<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line149">line 149</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all updates that are not yet confirmed by host.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".openDB">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>openDB<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line111">line 111</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishAll">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishAll<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line190">line 190</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Publish to all, including self</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line298">line 298</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".readMessage">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>readMessage<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line23">line 23</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".send">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>send<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line169">line 169</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".subscribeRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>subscribeRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line285">line 285</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".update">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>update<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line176">line 176</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeClientUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeClientUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line137">line 137</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Write an update to the db after the client created it. This update is not yet received by the host.
This function returns a client confirmation number. The confirmation number must be send to the host so it can identify the update,
and we can move the update to HU when it is confirmed (@see writeHostUnconfirmedByClient)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeConfirmedByHost">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeConfirmedByHost<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line208">line 208</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it persisted updates up until (including) offset. updates may be moved from HU to Co.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line199">line 199</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host broadcasts an update created by another client. It assures that the update will eventually be persisted with
<code>offset</code>. Calling this function does not imply that the update was persisted by the host. In case of mismatching room session ids
the updates in HU will be sent to the server.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmedByClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmedByClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line179">line 179</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and broadcasted an update sent from this client.
Calling this method does not confirm that the update has been persisted by the server.</p>
<p>Other clients will receive an update with <code>writeHostUnconfirmed</code>. Since this client created the update, it only receives a confirmation. So
we can simply move the update from CU to HU.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~datasubs">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>datasubs<span class="type-signature"> :Map.&lt;string, Set.&lt;function()>></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line17">line 17</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Map.&lt;string, Set.&lt;function()>></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~ydbinstances">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>ydbinstances<span class="type-signature"> :Set.&lt;any></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line22">line 22</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set of Ydb instances</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Set.&lt;any></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
                

<dt>
    
        <h4 class="name" id="~checkTestClients">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>checkTestClients<span class="signature">(&hellip;testClients)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line62">line 62</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Check if tsclient has all data in dataset</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testClients</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~decodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>decodeHUKey<span class="signature">(key)</span><span class="type-signature"> &rarr; {RoomAndOffset}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line92">line 92</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">HUTableKey</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">RoomAndOffset</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeHUKey<span class="signature">(room, offset)</span><span class="type-signature"> &rarr; {HUTableKey}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line73">line 73</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">HUTableKey</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeMetaValue">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeMetaValue<span class="signature">(rsid, offset)</span><span class="type-signature"> &rarr; {ArrayBuffer}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line322">line 322</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">ArrayBuffer</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCo">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCo<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line59">line 59</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'confirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line47">line 47</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'client-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreHU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreHU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line53">line 53</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'host-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreUS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreUS<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line66">line 66</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get <code>unconfirmed-subscriptions</code> store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getTestClient">
            
                <span class="type-signature"><span class="icon green">async</span>, <span class="icon green">inner</span> </span>getTestClient<span class="signature">(name)</span><span class="type-signature"> &rarr; {Promise.&lt;YdbTestClient>}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line31">line 31</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">Promise.&lt;YdbTestClient></span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~initWS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>initWS<span class="signature">(ydb, ws)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
                <code><a href="provider_ydb_YdbClient.js.html#line101">line 101</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Initialize WebSocket connection. Try to reconnect on error/disconnect.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ydb</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ws</code></td>
            

            <td class="type">
            
                
<span class="param-type">WebSocket</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~update">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>update<span class="signature">(client)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line54">line 54</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create an update. We use an increasing message counter so each update is unique.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            </dl>
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        <dl>
                

<dt>
<h4 class="name" id="~HUTableKey">
    HUTableKey
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line75">line 75</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Array of length 2: [string, number]</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">any</span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomAndOffset">
    RoomAndOffset
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line81">line 81</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomMeta">
    RoomMeta
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line231">line 231</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomState">
    RoomState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line20">line 20</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id, -1 if unknown (created locally)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>By server, -1 if unknown</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cOffset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>current offset by client</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~Sub">
    Sub
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line358">line 358</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>room name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SubDef">
    SubDef
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line102">line 102</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SyncState">
    SyncState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line28">line 28</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>upsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if all local updates have been sent to the server and the server confirmed that it received the update</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the current session subscribed to the room, the server confirmed the subscription, and the initial data was received</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>persisted</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the server confirmed that it persisted all published data</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            </dl>
    

    
</article>

</section>







<section>

<header>
    
        <h2>provider/ydb</h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

            
        
        </div>
    

    

    

    
            <h3 class="subsection-title">Classes</h3>
            

<dl>
    
        <dt>
            <h4 class="name">
                <a href="module-provider_ydb.YdbClient.html">YdbClient</a>
                <div class="container-source members">
                    <code><a href="module-provider_ydb.YdbClient.html">module:provider/ydb.YdbClient</a></code>
                </div>
            </h4>
        </dt>
        
    
</dl>

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line214">line 214</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when user confid was confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfCreated">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfCreated<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line201">line 201</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when update was created by this user and confid was created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line240">line 240</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetReceived">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetReceived<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line226">line 226</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when remote update is received (thus host has increased, but not confirmed, the offset)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncFromServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncFromServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line269">line 269</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when sync confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncingRoomsToServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncingRoomsToServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line255">line 255</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when a subscription is created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".clear">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>clear<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line163">line 163</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Remove a db namespace. Call this to remove any persisted data. Make sure to close active sessions.
TODO: destroy active ydbClient sessions / throw if a session is still active</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line166">line 166</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and persisted an update. The update can be safely removed from CU.
It is necessary to call this function in case that the client disconnected before the host could send <code>writeHostUnconfirmedByClient</code>.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmSubscription">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmSubscription<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line372">line 372</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set the initial room data. Overwrites initial data if there is any!</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createSub">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createSub<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line114">line 114</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createTransaction">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createTransaction<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line126">line 126</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Create a new IDBTransaction accessing all object stores. Normally we should care that we can access object stores in parallel.
But this is not possible in ydb-client since at least two object stores are requested in every IDB change.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createUpdate">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createUpdate<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line93">line 93</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createYdbClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createYdbClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_index.js.html">provider/ydb/index.js</a></code>,
        <code><a href="provider_ydb_index.js.html#line11">line 11</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".get">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>get<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line150">line 150</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Factory function. Get a ydb instance that connects to url, and uses dbNamespace as indexeddb namespace.
Create if it does not exist yet.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line296">line 296</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, including unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomDataWithoutCU">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomDataWithoutCU<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line282">line 282</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, excluding unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomMetas">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomMetas<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line245">line 245</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all meta information for all rooms.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getUnconfirmedUpdates">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getUnconfirmedUpdates<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line149">line 149</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all updates that are not yet confirmed by host.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".openDB">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>openDB<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line111">line 111</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishAll">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishAll<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line190">line 190</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Publish to all, including self</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line298">line 298</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".readMessage">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>readMessage<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line23">line 23</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".send">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>send<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line169">line 169</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".subscribeRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>subscribeRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line285">line 285</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".update">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>update<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line176">line 176</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeClientUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeClientUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line137">line 137</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Write an update to the db after the client created it. This update is not yet received by the host.
This function returns a client confirmation number. The confirmation number must be send to the host so it can identify the update,
and we can move the update to HU when it is confirmed (@see writeHostUnconfirmedByClient)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeConfirmedByHost">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeConfirmedByHost<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line208">line 208</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it persisted updates up until (including) offset. updates may be moved from HU to Co.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line199">line 199</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host broadcasts an update created by another client. It assures that the update will eventually be persisted with
<code>offset</code>. Calling this function does not imply that the update was persisted by the host. In case of mismatching room session ids
the updates in HU will be sent to the server.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmedByClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmedByClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line179">line 179</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and broadcasted an update sent from this client.
Calling this method does not confirm that the update has been persisted by the server.</p>
<p>Other clients will receive an update with <code>writeHostUnconfirmed</code>. Since this client created the update, it only receives a confirmation. So
we can simply move the update from CU to HU.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~datasubs">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>datasubs<span class="type-signature"> :Map.&lt;string, Set.&lt;function()>></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line17">line 17</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Map.&lt;string, Set.&lt;function()>></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~ydbinstances">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>ydbinstances<span class="type-signature"> :Set.&lt;any></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line22">line 22</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set of Ydb instances</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Set.&lt;any></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
                

<dt>
    
        <h4 class="name" id="~checkTestClients">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>checkTestClients<span class="signature">(&hellip;testClients)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line62">line 62</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Check if tsclient has all data in dataset</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testClients</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~decodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>decodeHUKey<span class="signature">(key)</span><span class="type-signature"> &rarr; {RoomAndOffset}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line92">line 92</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">HUTableKey</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">RoomAndOffset</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeHUKey<span class="signature">(room, offset)</span><span class="type-signature"> &rarr; {HUTableKey}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line73">line 73</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">HUTableKey</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeMetaValue">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeMetaValue<span class="signature">(rsid, offset)</span><span class="type-signature"> &rarr; {ArrayBuffer}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line322">line 322</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">ArrayBuffer</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCo">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCo<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line59">line 59</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'confirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line47">line 47</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'client-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreHU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreHU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line53">line 53</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'host-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreUS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreUS<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line66">line 66</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get <code>unconfirmed-subscriptions</code> store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getTestClient">
            
                <span class="type-signature"><span class="icon green">async</span>, <span class="icon green">inner</span> </span>getTestClient<span class="signature">(name)</span><span class="type-signature"> &rarr; {Promise.&lt;YdbTestClient>}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line31">line 31</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">Promise.&lt;YdbTestClient></span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~initWS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>initWS<span class="signature">(ydb, ws)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
                <code><a href="provider_ydb_YdbClient.js.html#line101">line 101</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Initialize WebSocket connection. Try to reconnect on error/disconnect.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ydb</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ws</code></td>
            

            <td class="type">
            
                
<span class="param-type">WebSocket</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~update">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>update<span class="signature">(client)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line54">line 54</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create an update. We use an increasing message counter so each update is unique.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            </dl>
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        <dl>
                

<dt>
<h4 class="name" id="~HUTableKey">
    HUTableKey
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line75">line 75</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Array of length 2: [string, number]</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">any</span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomAndOffset">
    RoomAndOffset
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line81">line 81</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomMeta">
    RoomMeta
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line231">line 231</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomState">
    RoomState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line20">line 20</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id, -1 if unknown (created locally)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>By server, -1 if unknown</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cOffset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>current offset by client</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~Sub">
    Sub
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line358">line 358</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>room name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SubDef">
    SubDef
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line102">line 102</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SyncState">
    SyncState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line28">line 28</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>upsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if all local updates have been sent to the server and the server confirmed that it received the update</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the current session subscribed to the room, the server confirmed the subscription, and the initial data was received</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>persisted</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the server confirmed that it persisted all published data</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            </dl>
    

    
</article>

</section>







<section>

<header>
    
        <h2>provider/ydb</h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

            
        
        </div>
    

    

    

    
            <h3 class="subsection-title">Classes</h3>
            

<dl>
    
        <dt>
            <h4 class="name">
                <a href="module-provider_ydb.YdbClient.html">YdbClient</a>
                <div class="container-source members">
                    <code><a href="module-provider_ydb.YdbClient.html">module:provider/ydb.YdbClient</a></code>
                </div>
            </h4>
        </dt>
        
    
</dl>

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line214">line 214</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when user confid was confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbCUConfCreated">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbCUConfCreated<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line201">line 201</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when update was created by this user and confid was created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetConfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetConfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line240">line 240</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbRemoteOffsetReceived">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbRemoteOffsetReceived<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line226">line 226</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when remote update is received (thus host has increased, but not confirmed, the offset)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncFromServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncFromServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line269">line 269</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when sync confirmed by host</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="._broadcastYdbSyncingRoomsToServer">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>_broadcastYdbSyncingRoomsToServer<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line255">line 255</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Call this when a subscription is created</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".clear">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>clear<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line163">line 163</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Remove a db namespace. Call this to remove any persisted data. Make sure to close active sessions.
TODO: destroy active ydbClient sessions / throw if a session is still active</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line166">line 166</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and persisted an update. The update can be safely removed from CU.
It is necessary to call this function in case that the client disconnected before the host could send <code>writeHostUnconfirmedByClient</code>.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".confirmSubscription">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>confirmSubscription<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line372">line 372</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set the initial room data. Overwrites initial data if there is any!</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createSub">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createSub<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line114">line 114</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createTransaction">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createTransaction<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line126">line 126</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Create a new IDBTransaction accessing all object stores. Normally we should care that we can access object stores in parallel.
But this is not possible in ydb-client since at least two object stores are requested in every IDB change.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createUpdate">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createUpdate<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line93">line 93</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".createYdbClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>createYdbClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_index.js.html">provider/ydb/index.js</a></code>,
        <code><a href="provider_ydb_index.js.html#line11">line 11</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".get">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>get<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line150">line 150</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Factory function. Get a ydb instance that connects to url, and uses dbNamespace as indexeddb namespace.
Create if it does not exist yet.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line296">line 296</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, including unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomDataWithoutCU">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomDataWithoutCU<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line282">line 282</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all data from idb, excluding unconfirmed updates.
TODO: include updates in CU</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getRoomMetas">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getRoomMetas<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line245">line 245</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all meta information for all rooms.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".getUnconfirmedUpdates">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>getUnconfirmedUpdates<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line149">line 149</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Get all updates that are not yet confirmed by host.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".openDB">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>openDB<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line111">line 111</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishAll">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishAll<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line190">line 190</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Publish to all, including self</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".publishRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>publishRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line298">line 298</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".readMessage">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>readMessage<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line23">line 23</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".send">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>send<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line169">line 169</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".subscribeRoomData">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>subscribeRoomData<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line285">line 285</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".update">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>update<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line176">line 176</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeClientUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeClientUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line137">line 137</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Write an update to the db after the client created it. This update is not yet received by the host.
This function returns a client confirmation number. The confirmation number must be send to the host so it can identify the update,
and we can move the update to HU when it is confirmed (@see writeHostUnconfirmedByClient)</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeConfirmedByHost">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeConfirmedByHost<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line208">line 208</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it persisted updates up until (including) offset. updates may be moved from HU to Co.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmed">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmed<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line199">line 199</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host broadcasts an update created by another client. It assures that the update will eventually be persisted with
<code>offset</code>. Calling this function does not imply that the update was persisted by the host. In case of mismatching room session ids
the updates in HU will be sent to the server.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id=".writeHostUnconfirmedByClient">
    <span class="type-signature"><span class="icon green">static</span>, <span class="icon green">constant</span> </span>writeHostUnconfirmedByClient<span class="type-signature"></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line179">line 179</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>The host confirms that it received and broadcasted an update sent from this client.
Calling this method does not confirm that the update has been persisted by the server.</p>
<p>Other clients will receive an update with <code>writeHostUnconfirmed</code>. Since this client created the update, it only receives a confirmation. So
we can simply move the update from CU to HU.</p>
    </div>
    

    <!--
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~datasubs">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>datasubs<span class="type-signature"> :Map.&lt;string, Set.&lt;function()>></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line17">line 17</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Map.&lt;string, Set.&lt;function()>></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        
            

<dt>
<h4 class="name" id="~ydbinstances">
    <span class="type-signature"><span class="icon green">inner</span>, <span class="icon green">constant</span> </span>ydbinstances<span class="type-signature"> :Set.&lt;any></span>
    
    <div class="container-source members">
        <code><a href="provider_ydb_broadcastchannel.js.html">provider/ydb/broadcastchannel.js</a></code>,
        <code><a href="provider_ydb_broadcastchannel.js.html#line22">line 22</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Set of Ydb instances</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Set.&lt;any></span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
                

<dt>
    
        <h4 class="name" id="~checkTestClients">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>checkTestClients<span class="signature">(&hellip;testClients)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line62">line 62</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Check if tsclient has all data in dataset</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>testClients</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~decodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>decodeHUKey<span class="signature">(key)</span><span class="type-signature"> &rarr; {RoomAndOffset}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line92">line 92</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">HUTableKey</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">RoomAndOffset</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeHUKey">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeHUKey<span class="signature">(room, offset)</span><span class="type-signature"> &rarr; {HUTableKey}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line73">line 73</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">HUTableKey</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~encodeMetaValue">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>encodeMetaValue<span class="signature">(rsid, offset)</span><span class="type-signature"> &rarr; {ArrayBuffer}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line322">line 322</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">ArrayBuffer</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCo">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCo<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line59">line 59</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'confirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreCU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreCU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line47">line 47</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'client-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreHU">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreHU<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line53">line 53</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get 'host-unconfirmed' store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getStoreUS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>getStoreUS<span class="signature">(t)</span><span class="type-signature"> &rarr; {IDBObjectStore}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
                <code><a href="provider_ydb_idbactions.js.html#line66">line 66</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get <code>unconfirmed-subscriptions</code> store from transaction</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>t</code></td>
            

            <td class="type">
            
                
<span class="param-type">IDBTransaction</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">IDBObjectStore</span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~getTestClient">
            
                <span class="type-signature"><span class="icon green">async</span>, <span class="icon green">inner</span> </span>getTestClient<span class="signature">(name)</span><span class="type-signature"> &rarr; {Promise.&lt;YdbTestClient>}</span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line31">line 31</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    
    <div class="container-returns">
        <h5>Returns:</h5>
        
                



<span class="param-type">Promise.&lt;YdbTestClient></span>








            
    </div>
    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~initWS">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>initWS<span class="signature">(ydb, ws)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
                <code><a href="provider_ydb_YdbClient.js.html#line101">line 101</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Initialize WebSocket connection. Try to reconnect on error/disconnect.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ydb</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ws</code></td>
            

            <td class="type">
            
                
<span class="param-type">WebSocket</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            
                

<dt>
    
        <h4 class="name" id="~update">
            
                <span class="type-signature"><span class="icon green">inner</span> </span>update<span class="signature">(client)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="provider_ydb_YdbClient.test.js.html">provider/ydb/YdbClient.test.js</a></code>,
                <code><a href="provider_ydb_YdbClient.test.js.html#line54">line 54</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create an update. We use an increasing message counter so each update is unique.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">YdbTestClient</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

</dd>

            </dl>
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        <dl>
                

<dt>
<h4 class="name" id="~HUTableKey">
    HUTableKey
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line75">line 75</a></code>
    </div>
    
</h4>


</dt>
<dd>
    
    <div class="description">
        <p>Array of length 2: [string, number]</p>
    </div>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">any</span>


            </li>
        </ul>
    
    -->

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomAndOffset">
    RoomAndOffset
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line81">line 81</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomMeta">
    RoomMeta
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line231">line 231</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Received offsets (including offsets that are not yet confirmed)</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~RoomState">
    RoomState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line20">line 20</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id, -1 if unknown (created locally)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>By server, -1 if unknown</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cOffset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>current offset by client</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~Sub">
    Sub
    
    <div class="container-source members">
        <code><a href="provider_ydb_idbactions.js.html">provider/ydb/idbactions.js</a></code>,
        <code><a href="provider_ydb_idbactions.js.html#line358">line 358</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>room name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>room session id</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SubDef">
    SubDef
    
    <div class="container-source members">
        <code><a href="provider_ydb_message.js.html">provider/ydb/message.js</a></code>,
        <code><a href="provider_ydb_message.js.html#line102">line 102</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>room</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rsid</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            
                

<dt>
<h4 class="name" id="~SyncState">
    SyncState
    
    <div class="container-source members">
        <code><a href="provider_ydb_YdbClient.js.html">provider/ydb/YdbClient.js</a></code>,
        <code><a href="provider_ydb_YdbClient.js.html#line28">line 28</a></code>
    </div>
    
</h4>


</dt>
<dd>
    

    <!--
    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Object</span>


            </li>
        </ul>
    
    -->

    


    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>upsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if all local updates have been sent to the server and the server confirmed that it received the update</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downsynced</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the current session subscribed to the room, the server confirmed the subscription, and the initial data was received</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>persisted</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"><p>True if the server confirmed that it persisted all published data</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    

    
</dd>

            </dl>
    

    
</article>

</section>




</div>

<footer>
    <img class="logo" src="https://user-images.githubusercontent.com/5553757/48975307-61efb100-f06d-11e8-9177-ee895e5916e5.png" style="width: 162px; height: 162px">
    <div class="footer-text">Shared Editing</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = 'module:provider/ydb_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>